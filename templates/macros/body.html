{% import "macros/icon.html" as icon_macros %}

{% macro header(type="standard", extended_content="") %}
  {% set classes = [] %}

  {% if type == "extended" %}
      {% set classes = classes|concat(with=type) %}
  {% endif %}

  <header{% if classes|length > 0 %} class="{{ classes|join(sep=' ') }}"{% endif %}>
    <div>
      <nav>
        <div>
          <a aria-label="Home" href="{{ get_url(path='/') }}">
            {{ icon_macros::vala_text() }}
          </a>
        </div>
        <ul>
          <li><a href="{{ get_url(path='@/about/index.md') }}">About</a></li>
            <li><a href="{{ config.extra.docs_url }}">Docs</a></li>
            <li><a href="{{ get_url(path='/') }}#community">Community</a></li>
            <li><a href="{{ get_url(path='@/blog/_index.md') }}">Blog</a></li>
            <li><a href="{{ config.extra.language_source_code_url }}">GitLab</a></li>
        </ul>
        <button class="menu-toggle">
          <span class="hamburger"></span>
        </button>
        <!-- Link to Installation section of tutorial -->
        <div>
          <a href="{{ config.extra.tutorial_url }}" class="navbar-button">Get Started</a>
        </div>
      </nav>
      {%- if type == "extended" %}
        {{ extended_content|safe }}
      {% endif %}
    </div>
  </header>

{% endmacro %}


{% macro features() %}
<h2>Why Vala?</h2>
<dl class="features">
  <div>
    <dt>
      <div>
        {{ icon_macros::sprite_icon(name="gears") }}
        Productivity
      </div>
    </dt>
    <dd>Comfortably write your code in an Object-Oriented way while having access to deep integrations with GNOME technolgies such as: GObject, GTK and more!</dd>
  </div>
  <div>
    <dt>
      <div>
        {{ icon_macros::sprite_icon(name="rocket") }}
        Performance
      </div>
    </dt>
    <dd>Vala compiles code down to blazing-fast, fully native binaries. You are also able to reuse existing C Code in your Vala programs as well as generate C Code from Vala.</dd>
  </div>
</dl>
<a href="{{ get_url(path='@/about/index.md') }}">Learn more about Vala</a>
{% endmacro %}

{% macro latest_blog_posts() %}
<!-- Shows previews of the latest 3 posts in the blog -->

{% set blog_section = get_section(path="blog/_index.md") %}

<h2>What's new?</h2>
<div class="post-previews">
  {% for post in blog_section.pages %}
    {% if loop.index0 == 3 %}
      {% break %}
    {% endif %}
    <a href="{{ post.permalink }}" class="post-preview">
      <img src="{{ get_url(path='img/vala-hero.png') }}" alt="Purple background with white text on center that says 'Vala'.">
      <div>
        <div>{{ post.title }}</div>
        <time datetime="{{ post.date }}">{{ post.date | date }}</time>
      </div>
    </a>
  {% endfor %}
</div>
<a href="{{ blog_section.permalink }}">View Blog</a>
{% endmacro %}

{% macro cta_stack(primary_content, primary_href, secondary_content, secondary_href) %}
<div class="cta-stack">
  <a href="{{ primary_href }}">{{ primary_content }}</a>

  {% if secondary_content and secondary_href %}
  <a href="{{ secondary_href }}">{{ secondary_content }}</a>
  {% endif %}
</div>
{% endmacro %}
